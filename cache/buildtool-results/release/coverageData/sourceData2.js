var sourceData2 = {"FileName":"C:\\local\\mw\\gh-isaacito12-bev\\BEV\\BEV_main_script.mlx","RawFileContents":["modelName = \"BEV_system_model\";","","% Load the model file.","load_system(modelName)","","% Set referenced subsystems and load parameters.","BEV_useComponents_Basic","% Load drive cycle.","VehSpdRef_loadCase_SimpleDrivePattern( ...","  ModelName = modelName, ...","  TargetSubsystemPath = ...","    \"/Controller & Environment\" + ...","    \"/Vehicle speed reference\" )","% Your code goes here.","simOut = sim(modelName);","simData = extractTimetable(simOut.logsout);","fig = BEV_plotResultsCompact( SimData=simData, PlotTemperature=false );","% Save the plot to a PNG file.","prjRoot = currentProject().RootFolder;","imgFilename = \"BEV_SimulationResultPlot.png\";","exportgraphics(fig, fullfile(prjRoot, \"BEV\", \"results\", imgFilename))","% Extract logged signals at once with extractTimetable.","simData = extractTimetable(simOut.logsout);","","% Adjust time format so as not to lose the subsecond information.","simData.Time.Format = 'hh:mm:ss.SSSS';","","% Signal names to save in file.","% These must be specified in the model as signal logging names.","% For example, in the BEV system model, see the Measurement subsystem.","dataColumns = [ ...","  \"HV Battery SOC\", \"HV Battery Power\", \"HV Battery Current\", ...","  \"G-Force\", \"Vehicle Speed (km/hr)\" ];","","% Select the logged signals to save.","simData = simData(:, dataColumns);","","% Add unit information to signal names.","varNames = string(simData.Properties.VariableNames');","% disp(varNames)","varUnits = string(simData.Properties.VariableUnits');","% disp(varUnits)","varNames2 = varNames + \" (\" + varUnits + \")\";","disp(varNames2)","simData.Properties.VariableNames = varNames2;","","% Save data to CSV file.","simResultFilename  = \"BEV_SimulationResult_1.csv\";","simResultFile_FullPath = fullfile(prjRoot, \"BEV\", \"results\", simResultFilename);","writetimetable(simData, simResultFile_FullPath)","prjRoot = currentProject().RootFolder;","simResultFilename  = \"BEV_SimulationResult_1.csv\";","simResultFile_FullPath = fullfile(prjRoot, \"BEV\", \"results\", simResultFilename);","","% Read a CSV file containing simulation result and store it to a timetable.","data = readtimetable(simResultFile_FullPath, VariableNamingRule=\"preserve\");","","% Adjust time format.","data.Time.Format = 's';","","% Separate variable names and unit strings.","varNames_with_unit = data.Properties.VariableNames';","% disp(varNames_with_unit)","varNames = extractBefore(varNames_with_unit, \" (\");","disp(varNames)","varUnits = strings(5, 1);","for idx = 1 : numel(varNames_with_unit)","  % Return value from extractBetween is an N-by-1 cell array","  % for each varNames_with_unit where N could be different.","  % We keep the first element only,","  % we cannot assign them to varUnits at once outside for-loop.","  tmpUnits = extractBetween(varNames_with_unit{idx}, \"(\", \")\");","  varUnits{idx} = tmpUnits{1};","end","disp(varUnits)","data.Properties.VariableNames = varNames;","data.Properties.VariableUnits = varUnits;","","% Define a little utility to manipulate the unit representation","% in Simscape's physical values.","tidyUnit = @(x,u) simscape.Value( value(x,u), u );","t = simscape.Value( seconds(data.Time), 's' );","dt = diff(t);","dataVehSpd = data.(\"Vehicle Speed\");","unitStr = varUnits(varNames == \"Vehicle Speed\");","vehicleSpeed = simscape.Value(dataVehSpd, unitStr{:});","averageSpeed = sum(vehicleSpeed)/numel(vehicleSpeed)","maxSpeed = max(vehicleSpeed)","tmpDistance = sum(vehicleSpeed(2:end).*dt);","travelledDistance = tidyUnit( tmpDistance, \"km\" )","G = data.(\"G-Force\");","min(G), max(G)","dataBattPwr = data.(\"HV Battery Power\");","unitStr = varUnits(varNames == \"HV Battery Power\");","batteryPower = simscape.Value(dataBattPwr, unitStr{:});  % J/s","batteryEnergyUsed = sum(batteryPower(2:end).*dt)","batteryEnergyUsed = tidyUnit(batteryEnergyUsed, \"kW*hr\")","energyEfficiency_kWh_per_100km = 100 * value(batteryEnergyUsed / travelledDistance, \"kW*hr/km\")"],"CoverageDisplayDataPerLine":{"Function":[],"Statement":[{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d049a8a5-5f13-40de-bf81-5977c533f070"},{"LineNumber":4,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"0b87d093-ae36-456b-b5bf-62a2ff435dc1"},{"LineNumber":7,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"ca28a0c9-fca1-47de-b3f6-7cf828979560"},{"LineNumber":9,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a1dbd00e-28a9-4c2c-b3b3-2564daf4e7d3"},{"LineNumber":10,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":23,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"a1dbd00e-28a9-4c2c-b3b3-2564daf4e7d3"},{"LineNumber":11,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":23,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"a1dbd00e-28a9-4c2c-b3b3-2564daf4e7d3"},{"LineNumber":12,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":33,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"a1dbd00e-28a9-4c2c-b3b3-2564daf4e7d3"},{"LineNumber":13,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":32,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"a1dbd00e-28a9-4c2c-b3b3-2564daf4e7d3"},{"LineNumber":15,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"26a6e0fb-e496-4ff2-94d0-4c325fab271e"},{"LineNumber":16,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"bcd0df15-9566-4938-82dd-c3845822a4c7"},{"LineNumber":17,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":71,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"40cc8c65-ec26-49fd-8f91-e51cbb04d77f"},{"LineNumber":19,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"84699edf-4fb6-4c4f-9b2e-0f1c6655b316"},{"LineNumber":20,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"de417745-3658-46ca-83ff-9b3f67ba2f46"},{"LineNumber":21,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":69,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"2dce8491-2691-4c1b-a340-84030baad257"},{"LineNumber":23,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b9c24a4f-44fd-4032-94cf-841af3c6c094"},{"LineNumber":26,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"16e39d99-0309-4f31-9440-bed82705ee9b"},{"LineNumber":31,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":15,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"4e02b693-d9c6-4933-9778-0735ce9e45d6"},{"LineNumber":32,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":60,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"4e02b693-d9c6-4933-9778-0735ce9e45d6"},{"LineNumber":33,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":39,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"4e02b693-d9c6-4933-9778-0735ce9e45d6"},{"LineNumber":36,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d2bb474a-82b1-4082-a2b0-e619b72fbbae"},{"LineNumber":39,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"6fd6681b-6443-482f-8167-3dc19cc5c095"},{"LineNumber":41,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"17b2a577-2975-4eff-9b2a-54c1d222002e"},{"LineNumber":43,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"5c2fb5ce-9a61-4dc5-b94f-532c96769dd2"},{"LineNumber":44,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":15,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b9ca92ad-7f89-4f79-a6ad-a71a6a23cd07"},{"LineNumber":45,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"7ba1945b-602c-445e-ad58-816b782d31f6"},{"LineNumber":48,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"706412fe-8421-4898-8b38-5c8235d99d58"},{"LineNumber":49,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":80,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"83cc9f84-bd30-4136-b7ed-160d40fb6470"},{"LineNumber":50,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e604d203-e754-4e5f-833c-b794812dec51"},{"LineNumber":51,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"c3e2af93-7d58-434c-b2bf-8977165e39f0"},{"LineNumber":52,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"44e7d014-4d26-40a8-b8c9-0b1d5f9304b6"},{"LineNumber":53,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":80,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"52a70dc3-3650-43bf-a1dd-daf7b2fc79b1"},{"LineNumber":56,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":76,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"8b660ccf-166d-4e9c-ac8a-8d89a344f4b4"},{"LineNumber":59,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d1611969-edaa-4d6a-bb6c-c74b718b71cd"},{"LineNumber":62,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":52,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a61f22c7-dcf7-485a-ade1-d497a09629ca"},{"LineNumber":64,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"cdeab8e2-cc8b-45af-93fb-55e322b19b50"},{"LineNumber":65,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":14,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"aa7cc2cc-1084-4480-b233-d323647ae6af"},{"LineNumber":66,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"cf3f2903-215b-41f5-8fd9-f8684aee596a"},{"LineNumber":67,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":39,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f7f7fac5-cfa5-4d10-9783-3f12ece996fe"},{"LineNumber":72,"Hits":5,"StartColumnNumbers":2,"EndColumnNumbers":63,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"cb6b2913-1734-4e78-bbbd-002b7b983a4b"},{"LineNumber":73,"Hits":5,"StartColumnNumbers":2,"EndColumnNumbers":30,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"441bbccb-1379-4c2e-8c9b-473cabd5cc02"},{"LineNumber":75,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":14,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d0f8e903-9775-4a65-9470-a049c170c008"},{"LineNumber":76,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":41,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"bacfccca-4e2a-46dd-be88-fdfb45464118"},{"LineNumber":77,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":41,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d6832317-9704-4393-910c-2e7eb18d1cf0"},{"LineNumber":81,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"32de6f5f-3e15-466a-93f0-23f8dbb0d92e"},{"LineNumber":82,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":46,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"1ad8efd0-fb7e-4fe4-b8b3-cf8a45409d91"},{"LineNumber":83,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":13,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"0bf73606-3024-47b4-90e9-63f9b745665d"},{"LineNumber":84,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"22c74b60-cfd1-4418-b496-d912028fb814"},{"LineNumber":85,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f597f53a-deb9-4256-992f-52430f3238de"},{"LineNumber":86,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"33b6faad-ade7-4047-8586-c0e083d2f40f"},{"LineNumber":87,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":52,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"2dcc0d53-0ece-4b42-94f8-1c7ab3bbd2e1"},{"LineNumber":88,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"517065b5-731b-4e68-86c2-c94456f18c67"},{"LineNumber":89,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"4c823f84-1199-45ab-bd66-cc6aafa4e4a9"},{"LineNumber":90,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":49,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"92b01a81-fe7b-4256-bdd5-92765bda5abc"},{"LineNumber":91,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"3bcf285b-9e5d-4fa3-8070-fa9ed5be5cb7"},{"LineNumber":92,"Hits":[1,1],"StartColumnNumbers":[0,8],"EndColumnNumbers":[6,14],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["fa00cf54-34fe-4667-80fd-1db132545ea2","2c71f4a9-c9c1-4d94-ae44-6acc00aff33e"]},{"LineNumber":93,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"cfc95755-a9ae-46b7-a3e2-e0ca1299889a"},{"LineNumber":94,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"8526dcdd-034b-439d-9e08-646e2abb2a12"},{"LineNumber":95,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a4a03aa3-f710-4b40-b516-6a825b7114cf"},{"LineNumber":96,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f616eb7f-3707-4c16-98ad-2e8c4246005c"},{"LineNumber":97,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":56,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b7db5d07-9f73-4565-bc6e-7c532ca25809"},{"LineNumber":98,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":95,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"0fa7b7ad-97b1-4c93-9357-f9351938411b"}]},"FilterData":[]}