var sourceData2 = {"FileName":"C:\\local\\mw\\gh-isaacito12-bev\\BEV\\BEV_main_script.mlx","RawFileContents":["modelName = \"BEV_system_model\";","","% Load the model file.","load_system(modelName)","","% Set referenced subsystems and load parameters.","BEV_useComponents_Basic","% Load drive cycle.","VehSpdRef_loadCase_SimpleDrivePattern( ...","  ModelName = modelName, ...","  TargetSubsystemPath = ...","    \"/Controller & Environment\" + ...","    \"/Vehicle speed reference\" )","% Your code goes here.","simOut = sim(modelName);","simData = extractTimetable(simOut.logsout);","fig = BEV_plotResultsCompact( SimData=simData, PlotTemperature=false );","% Save the plot to a PNG file.","prjRoot = currentProject().RootFolder;","imgFilename = \"BEV_SimulationResultPlot.png\";","exportgraphics(fig, fullfile(prjRoot, \"BEV\", \"results\", imgFilename))","% Extract logged signals at once with extractTimetable.","simData = extractTimetable(simOut.logsout);","","% Adjust time format so as not to lose the subsecond information.","simData.Time.Format = 'hh:mm:ss.SSSS';","","% Signal names to save in file.","% These must be specified in the model as signal logging names.","% For example, in the BEV system model, see the Measurement subsystem.","dataColumns = [ ...","  \"HV Battery SOC\", \"HV Battery Power\", \"HV Battery Current\", ...","  \"G-Force\", \"Vehicle Speed (km/hr)\" ];","","% Select the logged signals to save.","simData = simData(:, dataColumns);","","% Add unit information to signal names.","varNames = string(simData.Properties.VariableNames');","% disp(varNames)","varUnits = string(simData.Properties.VariableUnits');","% disp(varUnits)","varNames2 = varNames + \" (\" + varUnits + \")\";","disp(varNames2)","simData.Properties.VariableNames = varNames2;","","% Save data to CSV file.","simResultFilename  = \"BEV_SimulationResult_1.csv\";","simResultFile_FullPath = fullfile(prjRoot, \"BEV\", \"results\", simResultFilename);","writetimetable(simData, simResultFile_FullPath)","prjRoot = currentProject().RootFolder;","simResultFilename  = \"BEV_SimulationResult_1.csv\";","simResultFile_FullPath = fullfile(prjRoot, \"BEV\", \"results\", simResultFilename);","","% Read a CSV file containing simulation result and store it to a timetable.","data = readtimetable(simResultFile_FullPath, VariableNamingRule=\"preserve\");","","% Adjust time format.","data.Time.Format = 's';","","% Separate variable names and unit strings.","varNames_with_unit = data.Properties.VariableNames';","% disp(varNames_with_unit)","varNames = extractBefore(varNames_with_unit, \" (\");","disp(varNames)","varUnits = strings(5, 1);","for idx = 1 : numel(varNames_with_unit)","  % Return value from extractBetween is an N-by-1 cell array","  % for each varNames_with_unit where N could be different.","  % We keep the first element only,","  % we cannot assign them to varUnits at once outside for-loop.","  tmpUnits = extractBetween(varNames_with_unit{idx}, \"(\", \")\");","  varUnits{idx} = tmpUnits{1};","end","disp(varUnits)","data.Properties.VariableNames = varNames;","data.Properties.VariableUnits = varUnits;","","% Define a little utility to manipulate the unit representation","% in Simscape's physical values.","tidyUnit = @(x,u) simscape.Value( value(x,u), u );","t = simscape.Value( seconds(data.Time), 's' );","dt = diff(t);","dataVehSpd = data.(\"Vehicle Speed\");","unitStr = varUnits(varNames == \"Vehicle Speed\");","vehicleSpeed = simscape.Value(dataVehSpd, unitStr{:});","averageSpeed = sum(vehicleSpeed)/numel(vehicleSpeed)","maxSpeed = max(vehicleSpeed)","tmpDistance = sum(vehicleSpeed(2:end).*dt);","travelledDistance = tidyUnit( tmpDistance, \"km\" )","G = data.(\"G-Force\");","min(G), max(G)","dataBattPwr = data.(\"HV Battery Power\");","unitStr = varUnits(varNames == \"HV Battery Power\");","batteryPower = simscape.Value(dataBattPwr, unitStr{:});  % J/s","batteryEnergyUsed = sum(batteryPower(2:end).*dt)","batteryEnergyUsed = tidyUnit(batteryEnergyUsed, \"kW*hr\")","energyEfficiency_kWh_per_100km = 100 * value(batteryEnergyUsed / travelledDistance, \"kW*hr/km\")"],"CoverageDisplayDataPerLine":{"Function":[],"Statement":[{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"86b916a9-ba0a-4fcd-976d-2ada17c3962e"},{"LineNumber":4,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a2ea622c-6fcf-40b1-bc7b-941f029eb2c1"},{"LineNumber":7,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"177542e5-aea3-4155-92f0-c4bd9a84ddc9"},{"LineNumber":9,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e39c03b2-c83c-4fdb-a9df-6639d4006da4"},{"LineNumber":10,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":23,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"e39c03b2-c83c-4fdb-a9df-6639d4006da4"},{"LineNumber":11,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":23,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"e39c03b2-c83c-4fdb-a9df-6639d4006da4"},{"LineNumber":12,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":33,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"e39c03b2-c83c-4fdb-a9df-6639d4006da4"},{"LineNumber":13,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":32,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"e39c03b2-c83c-4fdb-a9df-6639d4006da4"},{"LineNumber":15,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"6ecd989b-400a-41ef-9bde-bda39d074442"},{"LineNumber":16,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"fed3b538-f0ff-46c1-aa60-d7f8bdad6d37"},{"LineNumber":17,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":71,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"5f1e9cb1-6e08-40ad-a304-80e26105d9e3"},{"LineNumber":19,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b24ce5fa-aaad-4ec9-b14d-6e30e7c3fa16"},{"LineNumber":20,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b15498a9-a7c4-477b-96af-6bb78a479009"},{"LineNumber":21,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":69,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e9040df7-9d69-48e7-8b91-a6e1d31916df"},{"LineNumber":23,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"70dc164b-934a-4e87-b6b2-2b5410e2fcfb"},{"LineNumber":26,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e69acc68-4829-4654-8eff-80489f12b24a"},{"LineNumber":31,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":15,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"3810266f-f7bc-49f3-ac60-ad592fb8885c"},{"LineNumber":32,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":60,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"3810266f-f7bc-49f3-ac60-ad592fb8885c"},{"LineNumber":33,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":39,"ContinuedLine":true,"Filterable":false,"FilterDataUUID":"3810266f-f7bc-49f3-ac60-ad592fb8885c"},{"LineNumber":36,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"1a72aa60-a26b-423a-a1f2-91516caf3c82"},{"LineNumber":39,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"784659b1-146e-4962-acfa-84ad198ed247"},{"LineNumber":41,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f7f4f3a2-bd83-45ce-85f4-8b27556d7a9b"},{"LineNumber":43,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"78f5808b-7b16-4e34-80a5-3eb2f298ca28"},{"LineNumber":44,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":15,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d404b07f-49e2-41c7-8b74-57da2f1f5a04"},{"LineNumber":45,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"54430b56-1dda-4097-8efd-53b23eb534e0"},{"LineNumber":48,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"00aa83dc-b84a-4eab-a988-4f6c0252cd5e"},{"LineNumber":49,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":80,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"dd00575c-e118-4508-aae3-1629fc6ea33d"},{"LineNumber":50,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"944c8ec0-3f45-496b-8080-0e4e0850c506"},{"LineNumber":51,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"30d38f73-c1e3-46bb-874b-10028ca1e333"},{"LineNumber":52,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"392994ed-177f-443b-b2e1-9f14c8815e0e"},{"LineNumber":53,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":80,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b63399e5-c0cf-41f0-b08c-52da26ff7a9b"},{"LineNumber":56,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":76,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e779325f-7224-4aba-ae0a-cc2b4ef8c24a"},{"LineNumber":59,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"5ecb2776-0060-4ca3-ac2a-af9b999687c1"},{"LineNumber":62,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":52,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"979671ce-8156-4be9-b61a-f8e8e9ea2e8c"},{"LineNumber":64,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"58a71abe-36c4-4fd6-a4c7-65ff6a80ad7d"},{"LineNumber":65,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":14,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"0ab03934-ef67-4cb7-8bad-c3bb715e28c4"},{"LineNumber":66,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"c10e5632-f03e-4f24-af50-4d635685ab0e"},{"LineNumber":67,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":39,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"5fb4fd51-d315-4aed-a8ec-6a4e9996f00e"},{"LineNumber":72,"Hits":5,"StartColumnNumbers":2,"EndColumnNumbers":63,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b8604a38-4d5b-40cb-8c43-ebc7303d43b5"},{"LineNumber":73,"Hits":5,"StartColumnNumbers":2,"EndColumnNumbers":30,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"1aa9ff7f-9e0d-4fb1-b4c7-5b0f7b22e81c"},{"LineNumber":75,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":14,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"17f8c662-cc43-469d-911f-8f4231c4c0ce"},{"LineNumber":76,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":41,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"437fb30a-004c-45a9-8b27-3e93e474ab4e"},{"LineNumber":77,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":41,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"798f73a5-8379-4f8e-96d3-6a03462e5710"},{"LineNumber":81,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"1502cf6b-2575-4c19-a556-5bc4de82148d"},{"LineNumber":82,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":46,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"4b5e7033-4b7a-4b21-a5f2-75c66115cd0f"},{"LineNumber":83,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":13,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"4ada9f36-8f39-430d-92a2-2f6a0e3cbce5"},{"LineNumber":84,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"7bb6bfe3-5082-4dfc-a740-cc0d108a5759"},{"LineNumber":85,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"8ce13d7f-313c-4d0d-96ef-8feb210a5c1d"},{"LineNumber":86,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"28dfbf8e-ee5e-40da-bff5-55f3201b3da3"},{"LineNumber":87,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":52,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"c4938029-1458-4cdd-a8c8-2cf6a6e35e6d"},{"LineNumber":88,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"c66569ea-079e-445b-9b6d-8218f32575eb"},{"LineNumber":89,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"71923e5e-00b3-4afc-995b-6539dba8c918"},{"LineNumber":90,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":49,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d9f69f77-b30d-44ed-864f-fc65c20e1323"},{"LineNumber":91,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a8374249-ec02-4c38-98b7-78c73d9fe6c4"},{"LineNumber":92,"Hits":[1,1],"StartColumnNumbers":[0,8],"EndColumnNumbers":[6,14],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["47de6de5-2353-494f-b257-d1950cddc252","e36b42b4-a9e0-4557-9152-c71ae51637d1"]},{"LineNumber":93,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"883c755b-66c2-478c-8a2f-c25213abf930"},{"LineNumber":94,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f9bc1946-ecd7-4f08-9533-5a56fe685d73"},{"LineNumber":95,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"063ca7a0-baaf-459c-9130-d63ed5f23728"},{"LineNumber":96,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"11979afd-ce42-448d-aac4-40dde795c514"},{"LineNumber":97,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":56,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"c9dae8dc-5cf9-4a01-ac4a-e31083572eca"},{"LineNumber":98,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":95,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a205591c-8e99-40e4-b181-c709c059e790"}]},"FilterData":[]}