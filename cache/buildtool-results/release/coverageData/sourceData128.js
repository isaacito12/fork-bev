var sourceData128 = {"FileName":"C:\\local\\mw\\gh-isaacito12-bev\\Components\\Vehicle1D\\Custom\\+Vehicle1DUtility\\plotRoadLoad.m","RawFileContents":["function fig = plotRoadLoad(nvpairs)","% Plots the road-load resisting force and power.","","% Copyright 2021-2022 The MathWorks, Inc.","","arguments","  % Block parameters","  nvpairs.VehicleMass_kg (1,1) double {mustBePositive} = 1800","  nvpairs.RoadLoadA_N (1,1) double {mustBePositive} = 100","  nvpairs.RoadLoadB_N_per_kph (1,1) double {mustBeNonnegative} = 0","  nvpairs.RoadLoadC_N_per_kph2 (1,1) double {mustBePositive} = 0.035","  nvpairs.GravitationalAcceleration_m_per_s2 (1,1) double {mustBePositive} = 9.81","","  % x-axis, vehicle speed in km/hr","  nvpairs.VehicleSpeedVector_kph (:,1) double = linspace(0, 150, 400)'","","  nvpairs.RoadGradeVector_pct (1,:) double ...","    { mustBeGreaterThan(nvpairs.RoadGradeVector_pct, -100), ...","      mustBeLessThan(nvpairs.RoadGradeVector_pct, 100)} = [40, 20, 0]","end","","M_e_kg = nvpairs.VehicleMass_kg;","A_rl = nvpairs.RoadLoadA_N;","B_rl = nvpairs.RoadLoadB_N_per_kph;","C_rl = nvpairs.RoadLoadC_N_per_kph2;","grav = nvpairs.GravitationalAcceleration_m_per_s2;","","v_kph_colvec = nvpairs.VehicleSpeedVector_kph;","grade_pct_rowvec = nvpairs.RoadGradeVector_pct;","","%% Calculation","% Wind speed is ignored.","","v_threshold_kph = 0.1;","v_norm_kph = 0.5;","","incline_angle_rad_rowvec = atan(grade_pct_rowvec/100);","incline_angle_deg = round(incline_angle_rad_rowvec/pi*180, 1);  % for plotting","","numGrades = length(grade_pct_rowvec);","incline_angle_rad = repmat(incline_angle_rad_rowvec, numel(v_kph_colvec), 1);","","v_kph = repmat(v_kph_colvec/3.6, 1, numGrades);","","legendStr = string(grade_pct_rowvec' + \" % (\" + incline_angle_deg' + \" deg)\");","","F_roll_colvec = A_rl + B_rl*v_kph_colvec.*tanh(v_kph_colvec./v_threshold_kph);","F_roll = repmat(F_roll_colvec, 1, numGrades);","","F_airdrag_colvec = C_rl*v_kph_colvec.^2;","F_airdrag = repmat(F_airdrag_colvec, 1, numGrades);","","F_resist_flat = tanh(v_kph_colvec/v_norm_kph).*(F_roll + F_airdrag);","","F_resist_N = F_resist_flat + M_e_kg*grav*sin(incline_angle_rad);","Power_resist_kW = v_kph .* F_resist_N/1000;","","%% Plot","","fig = figure;  hold on;  grid on","fig.Position(3:4) = [400 500];  % width height","","tl = tiledlayout(fig, 2, 1);","tl.Padding = 'tight';","","nexttile","","for i = 1 : numGrades","  plot(v_kph_colvec, F_resist_N(:,i), \"LineWidth\",2)","  hold on","end","grid on","xlim([0 v_kph_colvec(end)])","lgd = legend(legendStr, \"Location\",\"northeast\");  title(lgd, \"Road grade\")","xlabel(\"Vehicle Speed (km/hr)\")","ylabel(\"Resisting Force (N)\")","","nexttile","","for i = 1 : numGrades","  plot(v_kph_colvec, Power_resist_kW(:,i), \"LineWidth\",2)","  hold on","end","grid on","xlim([0 v_kph_colvec(end)])","lgd = legend(legendStr, \"Location\",\"northwest\");  title(lgd, \"Road grade\")","xlabel(\"Vehicle Speed (km/hr)\")","ylabel(\"Resisting Power (kW)\")","","end  % function",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false,"Filterable":true,"FilterDataUUID":"7b89e60e-fc65-4778-a75a-e0b738919c5f"},"Statement":[{"LineNumber":8,"Hits":[0,0],"StartColumnNumbers":[39,57],"EndColumnNumbers":[53,61],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["c09e159c-cd8d-4f49-85dc-7250e6470c5d","c7e45490-f2ba-4d43-8eae-61a1bbc7f15a"]},{"LineNumber":9,"Hits":[0,0],"StartColumnNumbers":[36,54],"EndColumnNumbers":[50,57],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["8bedf4a6-1c84-4da1-b588-924eefb9f4b6","3701c4a3-2f9f-4f1b-960f-a4c371172c1c"]},{"LineNumber":10,"Hits":[0,0],"StartColumnNumbers":[44,65],"EndColumnNumbers":[61,66],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["aa5bde77-24a5-4a7c-a03a-f71988d5977d","9ba2616d-ff8d-4673-8dde-7a1c87b184d4"]},{"LineNumber":11,"Hits":[0,0],"StartColumnNumbers":[45,63],"EndColumnNumbers":[59,68],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["03335cb3-2857-41ca-9b6c-1fc4f0d2b7d7","f8a299a6-acda-42a2-9ea5-c00dba09bb74"]},{"LineNumber":12,"Hits":[0,0],"StartColumnNumbers":[59,77],"EndColumnNumbers":[73,81],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["d183fa9a-9996-4578-82cf-fd6cb02ce7ea","13c9d6a1-798a-4217-a48c-ff5a920a31f6"]},{"LineNumber":15,"Hits":0,"StartColumnNumbers":48,"EndColumnNumbers":70,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"7602f0b4-bf01-45bc-8852-1975e3a0df03"},{"LineNumber":18,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":58,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"88bb8e86-62ca-4ace-a40f-4beaa6961647"},{"LineNumber":19,"Hits":[0,0],"StartColumnNumbers":[6,58],"EndColumnNumbers":[54,69],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["127e032c-faa0-4d82-80d0-b516cd0c9b0e","459d1208-133e-4150-86bf-9465ea13519e"]},{"LineNumber":22,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"354ad7b6-7dc4-4f59-9726-a98b9f61cdf1"},{"LineNumber":23,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f11194d4-da95-4306-9bac-09be8f5f6b34"},{"LineNumber":24,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b6f573d6-dfb2-44e9-9750-3d8b2f7fdea1"},{"LineNumber":25,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"23b7b255-e55c-4fb0-8729-da75057272be"},{"LineNumber":26,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e4f34fbd-b000-46d3-8b34-127141bb3084"},{"LineNumber":28,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":46,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"d51dad37-9edc-4f76-bdc1-2962459d146e"},{"LineNumber":29,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"c4df1fa0-44fb-45bf-9402-7b40c6aca8ba"},{"LineNumber":34,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"8de66eef-b83e-47cb-b642-23ad00bd5150"},{"LineNumber":35,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":17,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"45b4c6c2-7d5f-491e-af46-50441b648a8e"},{"LineNumber":37,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f9ec67e9-e3b8-4cc0-82fd-e4ef5963768d"},{"LineNumber":38,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"50af62bb-e19a-4ee4-a046-e00c0766eaa0"},{"LineNumber":40,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"58c609cb-a6b4-4487-97ff-8fb952d96145"},{"LineNumber":41,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":77,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"701cbffe-f835-451c-904b-c82c41d2b7b0"},{"LineNumber":43,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"885dc288-222e-4635-92c7-8caa7df339f4"},{"LineNumber":45,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":78,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"650420ae-d658-43dc-a9e0-017090847c03"},{"LineNumber":47,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":78,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"14caa9b9-c773-4ded-acf0-cc4df03d5aff"},{"LineNumber":48,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"97f74659-5e41-4c77-aa9d-ac241885482a"},{"LineNumber":50,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"2ad34c0d-51e2-4f35-b876-8a7a209d4015"},{"LineNumber":51,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"6a9d96b0-648a-41a2-9bc9-96e19f16164b"},{"LineNumber":53,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":68,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"88bee640-1705-4489-9c39-f091ca4e4482"},{"LineNumber":55,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":64,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"79a5a4e2-cb78-4164-8433-198f0c609cdd"},{"LineNumber":56,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"fa7b62f4-16c3-4957-ba82-2990697f5d53"},{"LineNumber":60,"Hits":[0,0,0],"StartColumnNumbers":[0,15,25],"EndColumnNumbers":[13,23,33],"ContinuedLine":false,"Filterable":[false,false,false],"FilterDataUUID":["83514bdb-b1eb-4db3-a1da-ca22c21cc6b0","a12284c4-eb38-4bde-beec-60e38b9572bf","9338f4ac-a52a-4e29-a8e9-e01bd95aa7df"]},{"LineNumber":61,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"b25392bc-ee09-40ee-95f1-0e31ff01f9f2"},{"LineNumber":63,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"e8b274ce-463d-4b9c-8352-8276b5331a70"},{"LineNumber":64,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f631b9b1-bd84-47a0-a0a5-564c19b692df"},{"LineNumber":66,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"4a5df154-5a8b-46f4-a384-bed427b175d8"},{"LineNumber":68,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"88f48baa-f58e-4042-b976-3126e6c9e545"},{"LineNumber":69,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":52,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"02947049-5da8-4164-bdf3-b013d06f73ee"},{"LineNumber":70,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":10,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"ed6bc94e-e02f-4427-9f39-a02002ad1ba0"},{"LineNumber":72,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"fb2a946c-2aa0-4fae-acf7-27cd70056c16"},{"LineNumber":73,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"0ba95beb-7ca9-4fb1-a447-c68d9f786ef8"},{"LineNumber":74,"Hits":[0,0],"StartColumnNumbers":[0,50],"EndColumnNumbers":[48,74],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["174966b9-d1ed-4367-a3cc-df69bc4c9bee","d823a7c9-97d4-4e38-b260-80900c1e2ece"]},{"LineNumber":75,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"256bd1e3-8e84-4c19-8dd0-cd93130bf70b"},{"LineNumber":76,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":29,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"88756dbe-7ec2-4b6c-97f5-ec083415f2bb"},{"LineNumber":78,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"a74607f8-7a2f-417c-8d8f-26f131c04741"},{"LineNumber":80,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"44755109-dba3-494a-b6ca-0bc60ce6240b"},{"LineNumber":81,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":57,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"561865d1-e97e-4778-a91d-746ff6bf0d70"},{"LineNumber":82,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":10,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"5b3f8a5f-1146-4b62-9a14-87f34d102a18"},{"LineNumber":84,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"78da2e0c-3a28-46d7-bc1d-92d913511eaa"},{"LineNumber":85,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"f8a061fc-588a-4010-9c82-eff89951cf53"},{"LineNumber":86,"Hits":[0,0],"StartColumnNumbers":[0,50],"EndColumnNumbers":[48,74],"ContinuedLine":false,"Filterable":[false,false],"FilterDataUUID":["512280cf-b2d5-4919-8a3a-ea48bcc93c91","4657948d-b3fa-4f90-a96f-5af59aee7054"]},{"LineNumber":87,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"7f1b39d8-332a-483e-bb42-0f28ede3c7ad"},{"LineNumber":88,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false,"Filterable":false,"FilterDataUUID":"84fbd1cf-3198-4eb9-b072-51c0d23f74e5"}]},"FilterData":[]}