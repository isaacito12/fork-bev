var sourceData29 = {"FileName":"C:\\local\\github-issacito12\\fork-bev\\Components\\BatteryHighVoltage\\Harness\\BatteryHV_harness_setup.m","RawFileContents":["%% Model parameters for high voltage battery harness model\r","% This script is run automatically when harness model opens.\r","%\r","% This scriprt loads variables in the base workspace for the following battery models. \r","% - Basic battery model\r","% - System-level battery model, simple\r","% - System-level battery model\r","% - System-level battery model, tabled-based\r","%\r","% If you edit this file, make sure to run this to update variables\r","% in the base workspace before running simulation.\r","\r","% Copyright 2022-2023 The MathWorks, Inc.\r","\r","%% Bus definitions\r","\r","defineBus_HighVoltage\r","\r","%% Battery parameters\r","\r","% ==================\r","% Parameters used by\r","% - Basic battery\r","% - System-level battery, simple\r","% - System-level battery\r","% - System-level battery, tabled-based\r","\r","batteryHV.nominalVoltage_V = 340;\r","\r","batteryHV.nominalCapacity_kWh = 60;\r","\r","batteryHV.nominalCharge_Ahr = ...\r","  BatteryHV_getAmpereHourRating( ...\r","    Voltage_V = batteryHV.nominalVoltage_V, ...\r","    Capacity_kWh = batteryHV.nominalCapacity_kWh, ...\r","    StateOfCharge_pct = 100 );\r","\r","% Table-based battery has terminal resistance parameter as a lookup table,\r","% but this is used to approximately compute the I-squared R loss.\r","batteryHV.internalResistance_Ohm = 0.01;\r","\r","% ==================\r","% Parameters used by\r","% - System-level battery, simple\r","% - System-level battery\r","\r","% Voltage is 90 % of the nominal when SOC is 50 %.\r","batteryHV.measuredVoltage_V = batteryHV.nominalVoltage_V * 0.9;\r","batteryHV.measuredCharge_Ahr = batteryHV.nominalCharge_Ahr * 0.5;\r","\r","% This represents the entire battery pack.\r","% Table-based battery block uses another parameter.\r","batteryHV.ThermalMass_J_per_K = 10e3;\r","\r","% ==================\r","% Parameters used by\r","% - System-level battery\r","\r","% More thermal model parameters\r","% These parameters are used when thermal model is enabled\r","% in the Battery block from Simscape Electrical.\r","batteryHV.measurementTemperature_K = 273.15 + 25;\r","batteryHV.secondMeasurementTemperature_K = 273.15 + 0;\r","batteryHV.secondNominalVoltage_V = batteryHV.nominalVoltage_V * 0.95;\r","batteryHV.secondInternalResistance_Ohm = batteryHV.internalResistance_Ohm * 2;\r","batteryHV.secondMeasuredVoltage_V = batteryHV.nominalVoltage_V * 0.9;\r","\r","% ==================\r","% Parameters used by\r","% - Table-based battery\r","\r","batteryHV.NumCellsInSeries = 106;\r","batteryHV.NumStringsInParallel = 1;\r","batteryHV.NumTotalCells = batteryHV.NumCellsInSeries * batteryHV.NumStringsInParallel;\r","\r","% -----\r","% Tabled-Based Battery block.\r","% Parameters for a battery cell, representing the whole battery pack.\r","\r","% State of charge ... independent variable 1\r","batteryHV.SOC_pct = 0 : 100;\r","batteryHV.SOC_normalized = 0 : 0.01 : 1;\r","\r","% Temperature ... independent variable 2\r","batteryHV.Temperatures_degC = [0 25 60];\r","\r","% Open-circuit voltage (cell voltage) as a function of SOC and temperature.\r","% This data must represent a cell.\r","% This is multiplied by Voltage-Controlled Voltage Source block in the model\r","% to represent pack's terminal voltage.\r","batteryHV.OpenCircuitVoltage_V = ...\r","  BatteryHV_buildOpenCircuitVoltageData( ...\r","     0, [ 0 2.8; 10 3.0; 15 3.1; 25 3.3; 75 3.4; 90 3.5; 100 3.6 ], ...\r","    25, [ 0 2.9; 10 3.1; 15 3.2; 25 3.4; 75 3.5; 90 3.6; 100 3.9 ], ...\r","    60, [ 0 3.0; 10 3.3; 15 3.4; 25 3.6; 75 3.7; 90 3.8; 100 4.15 ]);\r","% degC, [ SOC_1, OCV_1; SOC_2, OCV_2; ... ]\r","\r","% Terminal resistance as a function of SOC and temperature.\r","% This data must represent a cell.\r","batteryHV.TerminalResistance_Ohm = ...\r","  BatteryHV_buildTerminalResistanceData( ...\r","     0, [ 0 0.47 ; 5 0.45  ; 15 0.218 ; 40 0.101 ; 80 0.086 ; 100 0.1   ], ...\r","    25, [ 0 0.17 ; 5 0.12  ; 15 0.072 ; 40 0.053 ; 80 0.044 ; 100 0.033 ], ...\r","    60, [ 0 0.13 ; 5 0.005 ; 15 0.04  ; 40 0.037 ; 80 0.03  ; 100 0.024 ]);\r","% degC, [ SOC_1, TR_1; SOC_2, TR_2; ... ]\r","\r","% Ampere-hour rating.\r","% This must be the total charge, rather than a single cell,\r","% thus this is determined from battery pack specifications.\r","batteryHV.CellCharge_Ahr = batteryHV.nominalCharge_Ahr;\r","\r","batteryHV.ThermalMassOfSingleCell_J_per_K = 100;\r","batteryHV.ThermalMassOfAllCells_J_per_K = ...\r","  batteryHV.ThermalMassOfSingleCell_J_per_K * batteryHV.NumTotalCells;\r","\r","% -----\r","% Voltage-Controlled Voltage Source block\r","batteryHV.VoltageGain = -1 * batteryHV.NumCellsInSeries;\r","\r","% -----\r","% Current-Controlled Current Source block\r","batteryHV.CurrentGain = (-1 * batteryHV.NumStringsInParallel) + 1;\r","\r","%% Ambient parameters\r","% Included in the battery component for thermal simulation\r","\r","batteryHV.ambientTemp_K = 273.15 + 20;\r","\r","batteryHV.ambientMass_t = 10000;\r","batteryHV.ambientSpecificHeat_J_per_Kkg = 1000;\r","\r","batteryHV.RadiationArea_m2 = 1;\r","batteryHV.RadiationCoeff_W_per_K4m2 = 5e-10;\r","\r","%% Initial conditions\r","\r","initial.hvBattery_SOC_pct = 70;\r","initial.hvBattery_SOC_normalized = initial.hvBattery_SOC_pct / 100;\r","\r","initial.hvBattery_Charge_Ahr = ...\r","  BatteryHV_getAmpereHourRating( ...\r","    Voltage_V = batteryHV.nominalVoltage_V, ...\r","    Capacity_kWh = batteryHV.nominalCapacity_kWh, ...\r","    StateOfCharge_pct = initial.hvBattery_SOC_pct );\r","\r","initial.hvBattery_Temperature_K = batteryHV.ambientTemp_K;\r","\r","initial.ambientTemp_K = batteryHV.ambientTemp_K;\r",""],"CoverageDisplayDataPerLine":{"Function":[],"Statement":[{"LineNumber":17,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":28,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":30,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":32,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":33,"Hits":38,"StartColumnNumbers":2,"EndColumnNumbers":32,"ContinuedLine":true},{"LineNumber":34,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":42,"ContinuedLine":true},{"LineNumber":35,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":48,"ContinuedLine":true},{"LineNumber":36,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":30,"ContinuedLine":true},{"LineNumber":40,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":48,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":49,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":53,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":62,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":49,"ContinuedLine":false},{"LineNumber":63,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":64,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":65,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":78,"ContinuedLine":false},{"LineNumber":66,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":72,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":73,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":74,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":86,"ContinuedLine":false},{"LineNumber":81,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":82,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":85,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":91,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":92,"Hits":38,"StartColumnNumbers":2,"EndColumnNumbers":40,"ContinuedLine":true},{"LineNumber":93,"Hits":38,"StartColumnNumbers":5,"EndColumnNumbers":66,"ContinuedLine":true},{"LineNumber":94,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":66,"ContinuedLine":true},{"LineNumber":95,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":69,"ContinuedLine":true},{"LineNumber":100,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":101,"Hits":38,"StartColumnNumbers":2,"EndColumnNumbers":40,"ContinuedLine":true},{"LineNumber":102,"Hits":38,"StartColumnNumbers":5,"EndColumnNumbers":73,"ContinuedLine":true},{"LineNumber":103,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":73,"ContinuedLine":true},{"LineNumber":104,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":75,"ContinuedLine":true},{"LineNumber":110,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":112,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false},{"LineNumber":113,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":41,"ContinuedLine":false},{"LineNumber":114,"Hits":38,"StartColumnNumbers":2,"EndColumnNumbers":70,"ContinuedLine":true},{"LineNumber":118,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":56,"ContinuedLine":false},{"LineNumber":122,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":66,"ContinuedLine":false},{"LineNumber":127,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":129,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":130,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":132,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":133,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":137,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":138,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":140,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":141,"Hits":38,"StartColumnNumbers":2,"EndColumnNumbers":32,"ContinuedLine":true},{"LineNumber":142,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":42,"ContinuedLine":true},{"LineNumber":143,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":48,"ContinuedLine":true},{"LineNumber":144,"Hits":38,"StartColumnNumbers":4,"EndColumnNumbers":52,"ContinuedLine":true},{"LineNumber":146,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":58,"ContinuedLine":false},{"LineNumber":148,"Hits":38,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false}]}}