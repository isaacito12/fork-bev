var sourceData43 = {"FileName":"C:\\local\\github-issacito12\\fork-bev\\Components\\BatteryHighVoltage\\Utility\\BatteryHV_getBatteryPackParameters.m","RawFileContents":["function params = BatteryHV_getBatteryPackParameters(nvpairs)\r","%% Computes paramters for high voltage battery pack from \r","% This function takes the following information\r","%\r","% - Pack nominal capacity (kWh)\r","% - Pack terminal voltage (V)\r","% - Cell voltage (V)\r","% - Cell charge (Ah)\r","%\r","% and computes the following data characterising the battery\r","%\r","% - Cell capacity (kWh)\r","% - Pack nominal charge (Ahr)\r","% - Number of cells in series\r","% - Charge in single string (Ahr)\r","% - Number of strings in parallel\r","% - Number of total cells\r","%\r","% and additionally the following data to help validate calculation result\r","%\r","% - Simulated capacity (kWh)\r","% - Difference between specified and simulated capacities (kWh)\r","% - Simulated terminal voltage (V)\r","% - Difference in specified and simulated terminal voltage (V)\r","%\r","% Arguments of this function have default values.\r","% You can run this function without any arguments to test that it works.\r","\r","% Copyright 2023 The MathWorks, Inc.\r","\r","arguments\r","\r","  % Battery pack capacity\r","  nvpairs.PackNominalCapacity_kWh = 50;\r","\r","  % Battery pack terminal voltage\r","  nvpairs.PackTerminalVoltage_V = 360;\r","\r","  % Battery cell voltage\r","  % Open Circuit Voltage. 3.5V to 3.7V assuming Lithium-ion\r","  nvpairs.CellVoltage_V = 3.6;\r","\r","  % Battery cell ampere-hour rating\r","  %nvpairs.CellCharge_Ahr = 3.153;\r","  nvpairs.CellCharge_Ahr = 4.8;\r","\r","end\r","\r","packNominalCapacity_kWh = nvpairs.PackNominalCapacity_kWh;\r","packTerminalVoltage_V = nvpairs.PackTerminalVoltage_V;\r","cellVoltage_V = nvpairs.CellVoltage_V;\r","cellCharge_Ahr = nvpairs.CellCharge_Ahr;\r","% initialStateOfCharge_pct = nvpairs.InitialStateOfCharge_pct;\r","\r","cellCapacity_kWh = cellVoltage_V * cellCharge_Ahr / 1000;\r","\r","% Battery pack ampere-hour rating\r","packNominalCharge_Ahr = packNominalCapacity_kWh / packTerminalVoltage_V * 1000;\r","\r","% Number of cells connected in series to form a cell string\r","NumCellsInSeries = ceil(packTerminalVoltage_V / cellVoltage_V);\r","assert(NumCellsInSeries > 1)\r","\r","% Ampere-hour rating of a cell string is equivalent to that of a cell.\r","stringCharge_Ahr = cellCharge_Ahr;\r","\r","% Number of cell strings connected in parallel to form a pack\r","NumStringsInParallel = ceil(packNominalCharge_Ahr / stringCharge_Ahr);\r","assert(NumStringsInParallel >= 1)\r","\r","% Number of all cells in a pack\r","NumTotalCells = NumCellsInSeries * NumStringsInParallel;\r","\r","simulatedCapacity_kWh = cellCapacity_kWh * NumTotalCells;\r","diffCapacity_kWh = simulatedCapacity_kWh - packNominalCapacity_kWh;\r","\r","simulatedTerminalVoltage_V = NumCellsInSeries * cellVoltage_V;\r","diffTerminalVoltage_V = simulatedTerminalVoltage_V - packTerminalVoltage_V;\r","\r","params.PackNominalCapacity_kWh = nvpairs.PackNominalCapacity_kWh;\r","params.PackTerminalVoltage_V = nvpairs.PackTerminalVoltage_V;\r","params.CellVoltage_V = nvpairs.CellVoltage_V;\r","params.CellCharge_Ahr = nvpairs.CellCharge_Ahr;\r","\r","params.CellCapacity_kWh = cellCapacity_kWh;\r","params.PackNominalCharge_Ahr = packNominalCharge_Ahr;\r","params.NumCellsInSeries = NumCellsInSeries;\r","params.StringCharge_Ahr = stringCharge_Ahr;\r","params.NumStringsInParallel = NumStringsInParallel;\r","params.NumTotalCells = NumTotalCells;\r","params.SimulatedCapacity_kWh = simulatedCapacity_kWh;\r","params.DiffCapacity_kWh = diffCapacity_kWh;\r","params.SimulatedTerminalVoltage_V = simulatedTerminalVoltage_V;\r","params.DiffTerminalVoltage_V = diffTerminalVoltage_V;\r","\r","end  % function\r",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":61,"ContinuedLine":false},"Statement":[{"LineNumber":34,"Hits":1,"StartColumnNumbers":36,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":37,"Hits":1,"StartColumnNumbers":34,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":41,"Hits":1,"StartColumnNumbers":26,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":45,"Hits":1,"StartColumnNumbers":27,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":49,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":58,"ContinuedLine":false},{"LineNumber":50,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":51,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":52,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":55,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":58,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":79,"ContinuedLine":false},{"LineNumber":61,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":62,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":65,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":68,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":69,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":72,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":56,"ContinuedLine":false},{"LineNumber":74,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":75,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":77,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":78,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":75,"ContinuedLine":false},{"LineNumber":80,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":81,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":82,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false},{"LineNumber":83,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":85,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":86,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":87,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":88,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":89,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":90,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":91,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":92,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":93,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":94,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false}]}}