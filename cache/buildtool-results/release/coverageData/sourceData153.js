var sourceData153 = {"FileName":"C:\\local\\mw\\gh-isaacito12-bev\\Components\\Vehicle1D\\Utility\\Vehicle1D_PlotForce.m","RawFileContents":["function Vehicle1D_PlotForce(NameValuePairs)","%% Makes plot of longitudinal vehicle driving/resisting force curves","% To see the default plot, run this function without any arguments.","","% Copyright 2023-2024 The MathWorks, Inc.","","arguments (Input)","","  % Either axes, panel, tab, or TiledChartLayout","  NameValuePairs.Parent (1,1)","","  NameValuePairs.VehicleMass (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.VehicleMass, \"kg\")} ...","    = simscape.Value(1800, \"kg\")","","  NameValuePairs.RoadLoad_A (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.RoadLoad_A, \"N\")} ...","    = simscape.Value(240.1, \"N\")","","  NameValuePairs.RoadLoad_B (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.RoadLoad_B, \"N/(km/hr)\")} ...","    = simscape.Value(0, \"N/(km/hr)\")","","  NameValuePairs.RoadLoad_C (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.RoadLoad_C, \"N/(km/hr)^2\")} ...","    = simscape.Value(0.4336, \"N/(km/hr)^2\")","","  NameValuePairs.GravitationalAcceleration (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.GravitationalAcceleration, \"m/s^2\")} ...","    = simscape.Value(9.81, \"m/s^2\")","","  NameValuePairs.RoadGrades_pct (1,:) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.RoadGrades_pct, \"1\")} ...","    = simscape.Value([0 10 20 30])","","  % Force curve with constant power","  NameValuePairs.Powers (1,:) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.Powers, \"kW\")} ...","    = simscape.Value([50 100 200], \"kW\")","","  % Maximum vehicle force (Y axis)","  NameValuePairs.MaximumVehicleAcceleration (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.MaximumVehicleAcceleration, \"1\")} ...","    = simscape.Value(0.4)","","  % Maximum vehicle speed (X axis)","  NameValuePairs.MaximumVehicleSpeed (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.MaximumVehicleSpeed, \"km/hr\")} ...","    = simscape.Value(160, \"km/hr\")","","  % Maximum climb power at top speed","  NameValuePairs.MaximumClimbPower(1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.MaximumClimbPower, \"kW\")} ...","    = simscape.Value(50, \"kW\")","","  % Upper bound of Y axis","  NameValuePairs.Force_PlotUpperBound (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.Force_PlotUpperBound, \"kN\")} ...","    = simscape.Value(15, \"kN\")","","  % Upper bound of X axis","  NameValuePairs.Speed_PlotUpperBound (1,1) simscape.Value ...","    {simscape.mustBeCommensurateUnit(NameValuePairs.Speed_PlotUpperBound, \"km/hr\")} ...","    = simscape.Value(200, \"km/hr\")","","  % Number of points in vehicle speed (x axis) to calculate force values (y axis)","  NameValuePairs.NumSpeedPoints (1,1) {mustBePositive, mustBeInteger} = 100","","end  % arguments","","if isfield(NameValuePairs, \"Parent\")","  if isempty(NameValuePairs.Parent)","    % Parent option is specified, but it is empty: Parent = []","    ax = axes(figure);","  else","    ax = NameValuePairs.Parent;","  end","else","  ax = axes(figure);","end","","M_e = NameValuePairs.VehicleMass;","","A_rl = NameValuePairs.RoadLoad_A;","B_rl = NameValuePairs.RoadLoad_B;","C_rl = NameValuePairs.RoadLoad_C;","","grav = NameValuePairs.GravitationalAcceleration;","","grades_pct = value(NameValuePairs.RoadGrades_pct, \"1\");","angles = simscape.Value(atan(grades_pct/100), \"rad\");","num_grades = numel(grades_pct);","","powers = NameValuePairs.Powers;","num_powers = numel(powers);","","max_vehicle_accel = NameValuePairs.MaximumVehicleAcceleration;","max_vehicle_force = max_vehicle_accel * M_e * grav;","","max_vehicle_speed = NameValuePairs.MaximumVehicleSpeed;","","max_climb_power = NameValuePairs.MaximumClimbPower;","","force_plot_upper = NameValuePairs.Force_PlotUpperBound;","","speed_plot_upper = NameValuePairs.Speed_PlotUpperBound;","","numX = NameValuePairs.NumSpeedPoints;","","%% prepare data","","% X axis data points","VehicleSpeed = linspace(simscape.Value(1, \"km/hr\"), speed_plot_upper, numX)';","","F_roll = A_rl + B_rl*VehicleSpeed;","F_airdrag = C_rl*VehicleSpeed.^2;","","grade_str = strings(1, num_grades);","angle_str = strings(1, num_grades);","% Longitudinal vehicle force at constant grade","F_const_grade = simscape.Value(zeros(numX, num_grades), \"N\");","for idx = 1 : num_grades","  grade_str(idx) = grades_pct(idx) + \" %\";","  angle_str(idx) = round(value(angles(idx), \"deg\"), 1) + \" deg\";","  s = angles(idx);","  F_const_grade(:, idx) = (F_roll*cos(s) + F_airdrag) + M_e*grav*sin(s);","end","","% Longitudinal vehicle force at constant power","F_const_power = simscape.Value(zeros(numX, num_powers), \"N\");","for idx = 1 : num_powers","  F_const_power(:, idx) = powers(idx) ./ VehicleSpeed;","end","","x_climb_inc = linspace(simscape.Value(10, \"km/hr\"), speed_plot_upper, numX)';","F_climb_inc = convert(max_climb_power ./ x_climb_inc, \"N\");","x_climb_flip = flipud(x_climb_inc);","F_climb_flip = force_plot_upper * ones(numel(x_climb_flip), 1);","x_climb = [x_climb_inc; x_climb_flip];","F_climb = [F_climb_inc; F_climb_flip];","","%% plot","cla(ax)","","% Vehicle force curves for constant road grades.","pp(1:num_grades) = matlab.graphics.chart.primitive.Line;","legend_str = strings(1, num_grades);","for idx = 1 : num_grades","  pp(idx) = plot(ax, value(VehicleSpeed, \"km/hr\"), value(F_const_grade(:,idx), \"N\"));","  pp(idx).LineWidth = 2;","  legend_str(idx) = grade_str(idx) + \" (\" + angle_str(idx) + \")\";","  if idx == 1","    hold(ax, \"on\")","  end","end","","% Vehicle force curves for constant power.","xmax = value(speed_plot_upper, \"km/hr\");","for idx = 1 : numel(powers)","  q = plot(ax, value(VehicleSpeed, \"km/hr\"), value(F_const_power(:, idx), \"N\"));","  q.LineWidth = 1;","  q.LineStyle = \"--\";","","  y = value(F_const_power(end, idx), \"N\");","  str = \" \" + value(powers(idx), \"kW\") + \" kW\";","  text(ax, xmax, y, str)","end","","gfx = fill(ax, value(x_climb, \"km/hr\"), value(F_climb, \"N\"), \"cyan\");","gfx.EdgeColor = \"none\";","gfx.FaceColor = \"#888\";","gfx.FaceAlpha = 0.3;","","gfx = yregion(ax, value(max_vehicle_force, \"N\"), inf);","gfx.EdgeColor = \"none\";","gfx.FaceColor = \"#888\";","gfx.FaceAlpha = 0.3;","","gfx = xregion(ax, value(max_vehicle_speed, \"km/hr\"), inf);","gfx.EdgeColor = \"none\";","gfx.FaceColor = \"#888\";","gfx.FaceAlpha = 0.3;","","grid(ax, \"on\")","","leg = legend(ax, pp, legend_str);","leg.Direction = \"reverse\";","% leg.BackgroundAlpha = 0.5;  % R2024a","title(leg, \"Road grade % (angle deg)\")","","xlim(ax, [0, xmax])","xlabel(ax, \"Vehicle speed\")","xsecondarylabel(ax, \"km/hr\")","","ylim(ax, [0, value(force_plot_upper, \"N\")])","ysecondarylabel(ax, \"N\")","","title(ax, \"Longitudinal vehicle force\")","","end  % function",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":44,"ContinuedLine":false},"Statement":[{"LineNumber":13,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":14,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":17,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":68,"ContinuedLine":false},{"LineNumber":18,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":21,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":76,"ContinuedLine":false},{"LineNumber":22,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":25,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":78,"ContinuedLine":false},{"LineNumber":26,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":29,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":87,"ContinuedLine":false},{"LineNumber":30,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":33,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":72,"ContinuedLine":false},{"LineNumber":34,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":38,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":39,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":43,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":84,"ContinuedLine":false},{"LineNumber":44,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":48,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":81,"ContinuedLine":false},{"LineNumber":49,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":53,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":76,"ContinuedLine":false},{"LineNumber":54,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":58,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":79,"ContinuedLine":false},{"LineNumber":59,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":63,"Hits":30,"StartColumnNumbers":5,"EndColumnNumbers":82,"ContinuedLine":false},{"LineNumber":64,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":67,"Hits":[30,30,30],"StartColumnNumbers":[39,55,72],"EndColumnNumbers":[53,68,75],"ContinuedLine":false},{"LineNumber":71,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":72,"Hits":30,"StartColumnNumbers":2,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":74,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":76,"Hits":30,"StartColumnNumbers":4,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":79,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":82,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":84,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":85,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":86,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":88,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false},{"LineNumber":90,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":91,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":92,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":94,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":95,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":97,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":98,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":100,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":102,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":104,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":106,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":108,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":113,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":77,"ContinuedLine":false},{"LineNumber":115,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":116,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":118,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":119,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":121,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":122,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":123,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":124,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":64,"ContinuedLine":false},{"LineNumber":125,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":126,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":72,"ContinuedLine":false},{"LineNumber":130,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":131,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":132,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":135,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":77,"ContinuedLine":false},{"LineNumber":136,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":59,"ContinuedLine":false},{"LineNumber":137,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":138,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":139,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":140,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":143,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":7,"ContinuedLine":false},{"LineNumber":146,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":56,"ContinuedLine":false},{"LineNumber":147,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":148,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":149,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":85,"ContinuedLine":false},{"LineNumber":150,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":151,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":152,"Hits":90,"StartColumnNumbers":2,"EndColumnNumbers":13,"ContinuedLine":false},{"LineNumber":153,"Hits":30,"StartColumnNumbers":4,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":158,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":159,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":160,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":80,"ContinuedLine":false},{"LineNumber":161,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":162,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":164,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":165,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":166,"Hits":120,"StartColumnNumbers":2,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":169,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":170,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":171,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":172,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":174,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":175,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":176,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":177,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":179,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":58,"ContinuedLine":false},{"LineNumber":180,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":181,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":182,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":184,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":14,"ContinuedLine":false},{"LineNumber":186,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":187,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":189,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":191,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":19,"ContinuedLine":false},{"LineNumber":192,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":193,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":195,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":196,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":198,"Hits":30,"StartColumnNumbers":0,"EndColumnNumbers":39,"ContinuedLine":false}]}}