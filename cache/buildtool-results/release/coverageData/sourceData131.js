var sourceData131 = {"FileName":"C:\\local\\mw\\gh-isaacito12-bev\\Components\\Vehicle1D\\Custom\\+Vehicle1DUtility\\plotRoadLoad.m","RawFileContents":["function fig = plotRoadLoad(nvpairs)","% Plots the road-load resisting force and power.","","% Copyright 2021-2022 The MathWorks, Inc.","","arguments","  % Block parameters","  nvpairs.VehicleMass_kg (1,1) double {mustBePositive} = 1800","  nvpairs.RoadLoadA_N (1,1) double {mustBePositive} = 100","  nvpairs.RoadLoadB_N_per_kph (1,1) double {mustBeNonnegative} = 0","  nvpairs.RoadLoadC_N_per_kph2 (1,1) double {mustBePositive} = 0.035","  nvpairs.GravitationalAcceleration_m_per_s2 (1,1) double {mustBePositive} = 9.81","","  % x-axis, vehicle speed in km/hr","  nvpairs.VehicleSpeedVector_kph (:,1) double = linspace(0, 150, 400)'","","  nvpairs.RoadGradeVector_pct (1,:) double ...","    { mustBeGreaterThan(nvpairs.RoadGradeVector_pct, -100), ...","      mustBeLessThan(nvpairs.RoadGradeVector_pct, 100)} = [40, 20, 0]","end","","M_e_kg = nvpairs.VehicleMass_kg;","A_rl = nvpairs.RoadLoadA_N;","B_rl = nvpairs.RoadLoadB_N_per_kph;","C_rl = nvpairs.RoadLoadC_N_per_kph2;","grav = nvpairs.GravitationalAcceleration_m_per_s2;","","v_kph_colvec = nvpairs.VehicleSpeedVector_kph;","grade_pct_rowvec = nvpairs.RoadGradeVector_pct;","","%% Calculation","% Wind speed is ignored.","","v_threshold_kph = 0.1;","v_norm_kph = 0.5;","","incline_angle_rad_rowvec = atan(grade_pct_rowvec/100);","incline_angle_deg = round(incline_angle_rad_rowvec/pi*180, 1);  % for plotting","","numGrades = length(grade_pct_rowvec);","incline_angle_rad = repmat(incline_angle_rad_rowvec, numel(v_kph_colvec), 1);","","v_kph = repmat(v_kph_colvec/3.6, 1, numGrades);","","legendStr = string(grade_pct_rowvec' + \" % (\" + incline_angle_deg' + \" deg)\");","","F_roll_colvec = A_rl + B_rl*v_kph_colvec.*tanh(v_kph_colvec./v_threshold_kph);","F_roll = repmat(F_roll_colvec, 1, numGrades);","","F_airdrag_colvec = C_rl*v_kph_colvec.^2;","F_airdrag = repmat(F_airdrag_colvec, 1, numGrades);","","F_resist_flat = tanh(v_kph_colvec/v_norm_kph).*(F_roll + F_airdrag);","","F_resist_N = F_resist_flat + M_e_kg*grav*sin(incline_angle_rad);","Power_resist_kW = v_kph .* F_resist_N/1000;","","%% Plot","","fig = figure;  hold on;  grid on","fig.Position(3:4) = [400 500];  % width height","","tl = tiledlayout(fig, 2, 1);","tl.Padding = 'tight';","","nexttile","","for i = 1 : numGrades","  plot(v_kph_colvec, F_resist_N(:,i), \"LineWidth\",2)","  hold on","end","grid on","xlim([0 v_kph_colvec(end)])","lgd = legend(legendStr, \"Location\",\"northeast\");  title(lgd, \"Road grade\")","xlabel(\"Vehicle Speed (km/hr)\")","ylabel(\"Resisting Force (N)\")","","nexttile","","for i = 1 : numGrades","  plot(v_kph_colvec, Power_resist_kW(:,i), \"LineWidth\",2)","  hold on","end","grid on","xlim([0 v_kph_colvec(end)])","lgd = legend(legendStr, \"Location\",\"northwest\");  title(lgd, \"Road grade\")","xlabel(\"Vehicle Speed (km/hr)\")","ylabel(\"Resisting Power (kW)\")","","end  % function",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false},"Statement":[{"LineNumber":8,"Hits":[0,0],"StartColumnNumbers":[39,57],"EndColumnNumbers":[53,61],"ContinuedLine":false},{"LineNumber":9,"Hits":[0,0],"StartColumnNumbers":[36,54],"EndColumnNumbers":[50,57],"ContinuedLine":false},{"LineNumber":10,"Hits":[0,0],"StartColumnNumbers":[44,65],"EndColumnNumbers":[61,66],"ContinuedLine":false},{"LineNumber":11,"Hits":[0,0],"StartColumnNumbers":[45,63],"EndColumnNumbers":[59,68],"ContinuedLine":false},{"LineNumber":12,"Hits":[0,0],"StartColumnNumbers":[59,77],"EndColumnNumbers":[73,81],"ContinuedLine":false},{"LineNumber":15,"Hits":0,"StartColumnNumbers":48,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":18,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":58,"ContinuedLine":false},{"LineNumber":19,"Hits":[0,0],"StartColumnNumbers":[6,58],"EndColumnNumbers":[54,69],"ContinuedLine":false},{"LineNumber":22,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":23,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":24,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":25,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":26,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false},{"LineNumber":28,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":46,"ContinuedLine":false},{"LineNumber":29,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":34,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":35,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":17,"ContinuedLine":false},{"LineNumber":37,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":38,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":40,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":41,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":77,"ContinuedLine":false},{"LineNumber":43,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":45,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":78,"ContinuedLine":false},{"LineNumber":47,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":78,"ContinuedLine":false},{"LineNumber":48,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false},{"LineNumber":50,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":51,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":53,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":68,"ContinuedLine":false},{"LineNumber":55,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":64,"ContinuedLine":false},{"LineNumber":56,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":60,"Hits":[0,0,0],"StartColumnNumbers":[0,15,25],"EndColumnNumbers":[13,23,33],"ContinuedLine":false},{"LineNumber":61,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":63,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":64,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":66,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false},{"LineNumber":68,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":69,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":52,"ContinuedLine":false},{"LineNumber":70,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":10,"ContinuedLine":false},{"LineNumber":72,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false},{"LineNumber":73,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":74,"Hits":[0,0],"StartColumnNumbers":[0,50],"EndColumnNumbers":[48,74],"ContinuedLine":false},{"LineNumber":75,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":76,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":78,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false},{"LineNumber":80,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":81,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":82,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":10,"ContinuedLine":false},{"LineNumber":84,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false},{"LineNumber":85,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":86,"Hits":[0,0],"StartColumnNumbers":[0,50],"EndColumnNumbers":[48,74],"ContinuedLine":false},{"LineNumber":87,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":88,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false}]}}