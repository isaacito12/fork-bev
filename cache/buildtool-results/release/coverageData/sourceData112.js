var sourceData112 = {"FileName":"C:\\local\\github-issacito12\\fork-bev\\Components\\MotorDriveUnit\\Utility\\MotorDriveUnit_getBlockInfo_System.m","RawFileContents":["function info = MotorDriveUnit_getBlockInfo_System(fullpathToBlock)\r","%% Collects block parameter values from Motor & Drive (System Level) block\r","% This function takes full block path to the Motor & Drive (System Level) block from\r","% Simscape Electrical, reads block parameters, and returns them in a struct.\r","% First load or open a Simulink model containing the Motor & Drive (System Level) block,\r","% and pass the full block path of the block to this function.\r","%\r","% Calling this function with no argument uses the currently selected block\r","% in Simulink model file.\r","% Open Simulink model, select the Motor & Drive (System Level) block,\r","% and run this function to collect information.\r","\r","% Copyright 2023 The MathWorks, Inc.\r","\r","arguments\r","  fullpathToBlock {mustBeText} = gcb\r","end\r","\r","% ================\r","% Block parameters\r","\r","% Maximum torque\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"torque_max\");\r","maxTorque_Nm = value(sv, \"N*m\");\r","info.MaxTorque_Nm = maxTorque_Nm;\r","\r","% Maximum power\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"power_max\");\r","maxPower_kW = value(sv, \"kW\");\r","info.MaxPower_kW = maxPower_kW;\r","\r","% Torque control time constant, Tc\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"Tc\");\r","info.ResponseTime_s = value(sv, \"s\");\r","\r","% Motor and driver overall efficiency (percent)\r","% No unit is associated to this block parameter.\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"eff\");\r","% Get the value by specifying \"1\" for unit.\r","eff_pct = value(sv, \"1\");\r","info.Efficiency_pct = eff_pct;\r","eff_norm = eff_pct / 100;\r","\r","% Speed at which efficiency is measured\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"w_eff\");\r","spd_meas_rpm = value(sv, \"rpm\");\r","info.Speed_measured_rpm = spd_meas_rpm;\r","spd_meas_radps = spd_meas_rpm*2*pi/60;\r","\r","% Torque at which efficiency is measured\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"T_eff\");\r","trq_meas_Nm = value(sv, \"N*m\");\r","info.Torque_measured_Nm = trq_meas_Nm;\r","\r","% Iron losses at measurement speed\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"Piron\");\r","iron_loss_meas_W = value(sv, \"W\");\r","info.IronLoss_measured_W = iron_loss_meas_W;\r","\r","% Fixed losses independent of torque and speed\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"Pbase\");\r","fixed_loss_measurement_W = value(sv, \"W\");\r","info.FixedLoss_W = fixed_loss_measurement_W;\r","\r","% External supply series resistance is 0 and not used.\r","\r","% Rotor inertia\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"J\");\r","rotor_inertia_kg_m2 = value(sv, \"kg*m^2\");\r","info.RotorInertia_kg_m2 = rotor_inertia_kg_m2;\r","\r","% Rotor damping\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"lam\");\r","damp_Nm_per_radps = value(sv, \"N*m/(rad/s)\");\r","info.RotorDamping_Nm_per_radps = damp_Nm_per_radps;\r","\r","% Initial rotor speed\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"speed0\");\r","initial_rotor_speed_rpm = value(sv, \"rpm\");\r","info.InitialRotorSpeed_rpm = initial_rotor_speed_rpm;\r","\r","% Temperature dependence parameters\r","%\r","% - Resistance temperature coefficient: 3.93e-3 \"1/K\"\r","% - Measurement temperature: 25 \"degC\"\r","%\r","% are kept at default values.\r","%\r","% For more information see \"Thermal Model for Actuator Blocks\" section\r","% in the documentation\r","% \"Simulating Thermal Effects in Rotational and Translational Actuators\".\r","% https://www.mathworks.com/help/sps/ug/simulating-thermal-effects-in-rotational-and-translational-actuators.html#btczw4r-3\r","\r","% Thermal mass\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"thermal_mass\");\r","thermal_mass_J_per_K = value(sv, \"J/K\");\r","info.ThermalMass_J_per_K = thermal_mass_J_per_K;\r","\r","% Initial temperature\r","sv = getSimscapeValueFromBlockParameter(fullpathToBlock, \"initial_temperature\");\r","initial_temperature_degC = value(sv, \"degC\");\r","info.Initial_Temperature_degC = initial_temperature_degC;\r","\r","% ===============\r","% Additional data\r","\r","% Mechanical power at efficiency measurement point\r","mechpow_eff = spd_meas_radps * trq_meas_Nm;\r","mechpow_meas_kW = mechpow_eff / 1000;\r","info.MechanicalPower_measured_kW = mechpow_meas_kW;\r","assert( mechpow_meas_kW < maxPower_kW, ...\r","  \"Power at efficiency measurement speed must be smaller than maximum power.\")\r","\r","% Nominal loss (total loss) at efficiency measurement point\r","nominal_loss_meas_W = (1/eff_norm - 1) * mechpow_eff;\r","info.NominalLoss_measured_W = nominal_loss_meas_W;\r","\r","iron_to_nominal_loss_ratio = iron_loss_meas_W / nominal_loss_meas_W;\r","info.IronToNominalLossRatio_pct = iron_to_nominal_loss_ratio * 100;\r","\r","% Copper loss at efficiency measurement point\r","copper_loss_meas_W = nominal_loss_meas_W - iron_loss_meas_W;\r","info.CopperLoss_measured_W = copper_loss_meas_W;\r","\r","end  % function\r",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":67,"ContinuedLine":false},"Statement":[{"LineNumber":16,"Hits":[1,0],"StartColumnNumbers":[19,33],"EndColumnNumbers":[29,36],"ContinuedLine":false},{"LineNumber":23,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":71,"ContinuedLine":false},{"LineNumber":24,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":25,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":28,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":29,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":30,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":33,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":34,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":38,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":64,"ContinuedLine":false},{"LineNumber":40,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":41,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":42,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":45,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":66,"ContinuedLine":false},{"LineNumber":46,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":47,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":39,"ContinuedLine":false},{"LineNumber":48,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":51,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":66,"ContinuedLine":false},{"LineNumber":52,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":53,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":56,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":66,"ContinuedLine":false},{"LineNumber":57,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":58,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":61,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":66,"ContinuedLine":false},{"LineNumber":62,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":63,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":68,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":69,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":70,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":46,"ContinuedLine":false},{"LineNumber":73,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":64,"ContinuedLine":false},{"LineNumber":74,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false},{"LineNumber":75,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":78,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":79,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":80,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":95,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":73,"ContinuedLine":false},{"LineNumber":96,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":97,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false},{"LineNumber":100,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":80,"ContinuedLine":false},{"LineNumber":101,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false},{"LineNumber":102,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":108,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":109,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":110,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":111,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":112,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":78,"ContinuedLine":true},{"LineNumber":115,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":116,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":50,"ContinuedLine":false},{"LineNumber":118,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":68,"ContinuedLine":false},{"LineNumber":119,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":122,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":60,"ContinuedLine":false},{"LineNumber":123,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false}]}}