var sourceData137 = {"FileName":"C:\\local\\github-issacito12\\fork-bev\\Components\\Vehicle1D\\Utility\\Vehicle1D_plotInputs.m","RawFileContents":["function fig = Vehicle1D_plotInputs(nvpairs)\r","%% Plots input signals from lookup tables in the model\r","% This function reads input signal data from 1-D Lookup Table blocks\r","% and makes plots of them.\r","%\r","% Model must be loaded before calling this function.\r","\r","% Copyright 2023 The MathWorks, Inc.\r","\r","arguments\r","  nvpairs.ModelName {mustBeTextScalar} = \"Vehicle1D_harness_model\"\r","  nvpairs.BlockPathToInputSubsystem {mustBeTextScalar} = \"/Inputs\"\r","  nvpairs.BlockName_BrakeForce {mustBeTextScalar} = \"Brake force\"\r","  nvpairs.BlockName_RoadGrade {mustBeTextScalar} = \"Road grade\"\r","  nvpairs.BlockName_AxleTorque {mustBeTextScalar} = \"Axle torque\"\r","\r","  nvpairs.PlotWindowName {mustBeTextScalar} = \"Vehicle1D Inputs\"\r","  nvpairs.Width {mustBePositive, mustBeInteger} = 400\r","  nvpairs.Height {mustBePositive, mustBeInteger} = 500\r","  nvpairs.Visible (1,1) matlab.lang.OnOffSwitchState = \"on\"\r","end\r","\r","mdl = nvpairs.ModelName;\r","subsys_path = nvpairs.BlockPathToInputSubsystem;\r","\r","blkpath = mdl + subsys_path + \"/\" + nvpairs.BlockName_BrakeForce;\r","brakeForceData = getData(blkpath);\r","\r","blkpath = mdl + subsys_path + \"/\" + nvpairs.BlockName_RoadGrade;\r","roadGradeData = getData(blkpath);\r","\r","blkpath = mdl + subsys_path + \"/\" + nvpairs.BlockName_AxleTorque;\r","axleTorqueData = getData(blkpath);\r","\r","tMax = max([\r","  brakeForceData.t(end)\r","  roadGradeData.t(end)\r","  axleTorqueData.t(end)\r","  ]);\r","\r","brakeForceData = extendDataRange(brakeForceData, tMax);\r","roadGradeData = extendDataRange(roadGradeData, tMax);\r","axleTorqueData = extendDataRange(axleTorqueData, tMax);\r","\r","if nvpairs.Visible\r","  fig = figure;\r","else\r","  fig = figure(Visible=\"off\");\r","end\r","\r","if nvpairs.PlotWindowName ~= \"\"\r","  fig.Name = nvpairs.PlotWindowName;\r","end\r","\r","% Adjust the figure position in the screen.\r","pos = fig.Position;\r","origHeight = pos(4);\r","figWidth = nvpairs.Width;\r","figHeight = nvpairs.Height;\r","fig.Position = [pos(1), pos(2)-(figHeight-origHeight), figWidth, figHeight];\r","\r","tlayout = tiledlayout(3, 1);\r","tlayout.TileSpacing = \"compact\";\r","tlayout.Padding = \"compact\";\r","tlayout.TileIndexing = \"columnmajor\";\r","\r","tl_1 = nexttile;\r","makePlot(\"Brake force\", brakeForceData, 2)\r","\r","tl_2 = nexttile;\r","makePlot(\"Road grade\", roadGradeData, 2)\r","\r","tl_3 = nexttile;\r","makePlot(\"Axle torque\", axleTorqueData, 2)\r","\r","linkaxes([tl_1 tl_2 tl_3], \"x\")\r","\r","end  % function\r","\r","\r","function data = getData(block_path)\r","% This assumes that the name of the lookup table block is \"1-D Lookup Table\"\r","% and the the name of the Signal Specification block is\r","% th name of the signal followed by \" unit\".\r","data.y = get_param(block_path + \"/1-D Lookup Table\", \"Table\");\r","data.y = eval(data.y);\r","data.t = get_param(block_path + \"/1-D Lookup Table\", \"BreakpointsForDimension1\");\r","data.t = eval(data.t);\r","data.Unit = get_param(block_path + \" unit\", \"Unit\");\r","end\r","\r","\r","function data = extendDataRange(data, tMax)\r","% Adds a new element at the end of the data.\r","% Y data of the last element is copied,\r","% i.e., this extension is piece-wise constant.\r","if data.t(end) < tMax\r","  data.t(end + 1) = tMax;\r","  data.y(end + 1) = data.y(end);\r","end\r","end\r","\r","\r","function makePlot(varName, data, threshold_value)\r","unitStr = \"(\" + data.Unit + \")\";\r","plot(data.t, data.y, LineWidth=2)\r","hold on\r","grid on\r","axis padded\r","xlim([data.t(1), data.t(end)])\r","setMinimumYRange( ...\r","  gca, ...\r","  data.y, ...\r","  dy_threshold = threshold_value );\r","ylabel(unitStr)\r","title(varName, Interpreter=\"none\")\r","end  % function\r",""],"CoverageDisplayDataPerLine":{"Function":[{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":81,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":93,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":104,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":49,"ContinuedLine":false}],"Statement":[{"LineNumber":11,"Hits":[1,1],"StartColumnNumbers":[21,41],"EndColumnNumbers":[37,66],"ContinuedLine":false},{"LineNumber":12,"Hits":[1,1],"StartColumnNumbers":[37,57],"EndColumnNumbers":[53,66],"ContinuedLine":false},{"LineNumber":13,"Hits":[1,1],"StartColumnNumbers":[32,52],"EndColumnNumbers":[48,65],"ContinuedLine":false},{"LineNumber":14,"Hits":[1,1],"StartColumnNumbers":[31,51],"EndColumnNumbers":[47,63],"ContinuedLine":false},{"LineNumber":15,"Hits":[1,1],"StartColumnNumbers":[32,52],"EndColumnNumbers":[48,65],"ContinuedLine":false},{"LineNumber":17,"Hits":[1,1],"StartColumnNumbers":[26,46],"EndColumnNumbers":[42,64],"ContinuedLine":false},{"LineNumber":18,"Hits":[1,1,1],"StartColumnNumbers":[17,33,50],"EndColumnNumbers":[31,46,53],"ContinuedLine":false},{"LineNumber":19,"Hits":[1,1,1],"StartColumnNumbers":[18,34,51],"EndColumnNumbers":[32,47,54],"ContinuedLine":false},{"LineNumber":20,"Hits":1,"StartColumnNumbers":55,"EndColumnNumbers":59,"ContinuedLine":false},{"LineNumber":23,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":24,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":48,"ContinuedLine":false},{"LineNumber":26,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":27,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":29,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":64,"ContinuedLine":false},{"LineNumber":30,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":32,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":33,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":35,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":12,"ContinuedLine":false},{"LineNumber":36,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":23,"ContinuedLine":true},{"LineNumber":37,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":22,"ContinuedLine":true},{"LineNumber":38,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":23,"ContinuedLine":true},{"LineNumber":39,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":5,"ContinuedLine":true},{"LineNumber":41,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":42,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":43,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":45,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":46,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":15,"ContinuedLine":false},{"LineNumber":48,"Hits":0,"StartColumnNumbers":2,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":51,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":52,"Hits":1,"StartColumnNumbers":2,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":56,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":19,"ContinuedLine":false},{"LineNumber":57,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":58,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":59,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":60,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":76,"ContinuedLine":false},{"LineNumber":62,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":63,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":64,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":65,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":67,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":16,"ContinuedLine":false},{"LineNumber":68,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":70,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":16,"ContinuedLine":false},{"LineNumber":71,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":73,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":16,"ContinuedLine":false},{"LineNumber":74,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":76,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":85,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":86,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":87,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":81,"ContinuedLine":false},{"LineNumber":88,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":89,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":52,"ContinuedLine":false},{"LineNumber":97,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":98,"Hits":2,"StartColumnNumbers":2,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":99,"Hits":2,"StartColumnNumbers":2,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":105,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":106,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":107,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":9,"ContinuedLine":false},{"LineNumber":108,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":9,"ContinuedLine":false},{"LineNumber":109,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":13,"ContinuedLine":false},{"LineNumber":110,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":111,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":17,"ContinuedLine":false},{"LineNumber":112,"Hits":3,"StartColumnNumbers":2,"EndColumnNumbers":5,"ContinuedLine":true},{"LineNumber":113,"Hits":3,"StartColumnNumbers":2,"EndColumnNumbers":8,"ContinuedLine":true},{"LineNumber":114,"Hits":3,"StartColumnNumbers":2,"EndColumnNumbers":35,"ContinuedLine":true},{"LineNumber":115,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":15,"ContinuedLine":false},{"LineNumber":116,"Hits":3,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false}]}}